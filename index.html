<!DOCTYPE html>
<html>
  <head>
    <title>ARHEX - Locations Based AR</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script
      type="text/javascript"
      src="https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js"
    ></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script
      type="text/javascript"
      src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"
    ></script>
  </head>
  <body id="scene"></body>
  <script>
    const data = [
      {
        id: 0,
        name: 'MK Boys Hostel',
        longitude: '74.3209197',
        latitude: '31.5203401',
      },
      {
        id: 1,
        name: 'ConsoleDot',
        longitude: '74.3250718',
        latitude: '31.5205472',
      },
      {
        id: 2,
        name: 'ARHEX Labs',
        longitude: '74.2901429',
        latitude: '31.4548944',
      },
      {
        id: 3,
        name: 'Nauman Yousaf',
        longitude: '74.2595994',
        latitude: '31.4022745',
      },
      {
        id: 4,
        name: 'Hamza Mushtaq',
        longitude: '74.4045113',
        latitude: '31.5878945',
      },
      {
        id: 5,
        name: 'Adeel Amir Butt',
        longitude: '74.2921611',
        latitude: '31.530871',
      },
      {
        id: 6,
        name: 'Haris Siddiqui',
        longitude: '74.3582605',
        latitude: '31.51647',
      },
      {
        id: 7,
        name: 'Shehzad Zafar',
        longitude: '74.3207015',
        latitude: '31.5043709',
      },
    ];
    let html = `<a-scene
        id="scene"
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
        >
        <a-camera
            gps-camera="minDistance: 1; alert: true"
            rotation-reader
        ></a-camera>`;
    const elem = document.getElementById('scene');
    for (person of data) {
      const marker = `<a-image
            id="tag${person?.id}"
            src="tag.png"
            gps-entity-place="longitude: ${person?.longitude}; latitude: ${person?.latitude};"
            scale="75 75 75"
            look-at="[gps-camera]"
            >
            </a-image>`;
      const label = `<a-text
            value="${person?.name}"
            look-at="[gps-camera]"
            align="center"
            scale="25 25 25"
            id="text${person?.id}"
            gps-entity-place="latitude: ${person?.latitude}; longitude: ${person?.longitude};"
            ></a-text>`;
      html = html + marker + label;
    }
    html = html + `</a-scene>`;
    elem.innerHTML = html;
  </script>
</html>
